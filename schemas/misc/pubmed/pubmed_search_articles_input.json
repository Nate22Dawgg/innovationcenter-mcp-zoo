{
  "$schema": "http://json-schema.org/draft-07/schema#",
  "title": "PubMed Search Articles Input",
  "description": "Input schema for searching PubMed articles using query terms, filters, and date ranges",
  "type": "object",
  "properties": {
    "queryTerm": {
      "type": "string",
      "minLength": 3,
      "description": "The primary keyword or phrase to search for in PubMed. Must be at least 3 characters long.",
      "examples": ["diabetes", "cancer treatment", "COVID-19"]
    },
    "maxResults": {
      "type": "integer",
      "minimum": 1,
      "maximum": 1000,
      "default": 20,
      "description": "Maximum number of articles to retrieve. Corresponds to ESearch's 'retmax' parameter. Default is 20, max is 1000."
    },
    "sortBy": {
      "type": "string",
      "enum": ["relevance", "pub_date", "author", "journal_name"],
      "default": "relevance",
      "description": "Sorting criteria for results. Options: 'relevance' (default), 'pub_date', 'author', 'journal_name'."
    },
    "dateRange": {
      "type": "object",
      "properties": {
        "minDate": {
          "type": "string",
          "pattern": "^\\d{4}(\\/\\d{2}(\\/\\d{2})?)?$",
          "description": "The start date for the search range (YYYY, YYYY/MM, or YYYY/MM/DD).",
          "examples": ["2020", "2020/01", "2020/01/15"]
        },
        "maxDate": {
          "type": "string",
          "pattern": "^\\d{4}(\\/\\d{2}(\\/\\d{2})?)?$",
          "description": "The end date for the search range (YYYY, YYYY/MM, or YYYY/MM/DD).",
          "examples": ["2023", "2023/12", "2023/12/31"]
        },
        "dateType": {
          "type": "string",
          "enum": ["pdat", "mdat", "edat"],
          "default": "pdat",
          "description": "The type of date to filter by: 'pdat' (Publication Date), 'mdat' (Modification Date), 'edat' (Entrez Date). Default is 'pdat'."
        }
      },
      "additionalProperties": false,
      "description": "Defines an optional date range for the search."
    },
    "filterByPublicationTypes": {
      "type": "array",
      "items": {
        "type": "string"
      },
      "description": "An array of publication types to filter by (e.g., [\"Review\", \"Clinical Trial\"]).",
      "examples": [["Review"], ["Clinical Trial", "Meta-Analysis"]]
    },
    "fetchBriefSummaries": {
      "type": "integer",
      "minimum": 0,
      "maximum": 50,
      "default": 0,
      "description": "Number of top PMIDs for which to fetch brief summaries using ESummary. Set to 0 to disable. Max 50. Default 0."
    }
  },
  "required": ["queryTerm"],
  "additionalProperties": false
}

