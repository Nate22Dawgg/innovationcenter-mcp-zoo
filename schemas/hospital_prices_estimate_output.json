{
  "$schema": "http://json-schema.org/draft-07/schema#",
  "title": "Hospital Prices Estimate Output",
  "description": "Output schema for cash price estimate results",
  "type": "object",
  "properties": {
    "procedure_code": {
      "type": "string",
      "description": "CPT or HCPCS procedure code"
    },
    "location": {
      "type": "string",
      "description": "Location used for estimate"
    },
    "estimate": {
      "type": "object",
      "properties": {
        "min_price": {
          "type": ["number", "null"],
          "minimum": 0,
          "description": "Minimum cash price in USD"
        },
        "max_price": {
          "type": ["number", "null"],
          "minimum": 0,
          "description": "Maximum cash price in USD"
        },
        "median_price": {
          "type": ["number", "null"],
          "minimum": 0,
          "description": "Median cash price in USD"
        },
        "average_price": {
          "type": ["number", "null"],
          "minimum": 0,
          "description": "Average cash price in USD"
        },
        "sample_size": {
          "type": "integer",
          "minimum": 0,
          "description": "Number of data points used for estimate"
        }
      },
      "required": ["sample_size"],
      "additionalProperties": false
    },
    "data_source": {
      "type": "string",
      "description": "Source of the pricing data"
    },
    "year": {
      "type": "integer",
      "minimum": 2010,
      "description": "Year of the pricing data"
    }
  },
  "required": ["procedure_code", "location", "estimate"],
  "additionalProperties": false
}

