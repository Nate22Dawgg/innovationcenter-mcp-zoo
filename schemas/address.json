{
  "$schema": "http://json-schema.org/draft-07/schema#",
  "title": "Address",
  "description": "Normalized address representation",
  "type": "object",
  "properties": {
    "street": {
      "type": ["string", "null"],
      "description": "Street address",
      "examples": ["123 Main Street", "456 Oak Avenue"]
    },
    "city": {
      "type": ["string", "null"],
      "description": "City name",
      "examples": ["San Francisco", "New York"]
    },
    "state": {
      "type": ["string", "null"],
      "description": "State or province code (e.g., 'CA', 'NY', 'ON')",
      "pattern": "^[A-Z]{2}$",
      "examples": ["CA", "NY", "TX"]
    },
    "postal_code": {
      "type": ["string", "null"],
      "description": "Postal or ZIP code",
      "examples": ["94102", "10001", "M5H 2N2"]
    },
    "country": {
      "type": ["string", "null"],
      "description": "Country code (ISO 3166-1 alpha-2)",
      "pattern": "^[A-Z]{2}$",
      "default": "US",
      "examples": ["US", "CA", "GB"]
    },
    "formatted": {
      "type": ["string", "null"],
      "description": "Formatted full address string",
      "examples": ["123 Main Street, San Francisco, CA 94102, US"]
    }
  },
  "additionalProperties": false
}
